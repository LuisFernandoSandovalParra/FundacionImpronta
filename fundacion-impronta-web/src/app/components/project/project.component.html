<div class="general-container">
  <div class="general-title">
    <h2>Proyectos en marcha</h2>
  </div>
  <div class="container-projects-separator">
    <div (click)="changeProjectTypeSelected('convocatoria')" [class.activeBtnProjectType]="btnProjectTypeSelectedActive" class="btn-section-projects">
      <p>Proyección social</p>
    </div>
    <div (click)="changeProjectTypeSelected('extension')" [class.activeBtnProjectType]="!btnProjectTypeSelectedActive" class="btn-section-projects">
      <p>Por extensión</p>
    </div>
  </div>
  <div class="projects-container">
    <div *ngFor="let project of projects" class="project-card">
      <div *ngIf="project.project_type === projectTypeSelected" class="project">
        <div class="project-image">
          <img [src]="project.image" [alt]="project.title" />
        </div>
        <div class="project-title">
          <h3>{{ project.title }}</h3>
        </div>
        <div class="project-description">
          <p>{{ project.abstract }}</p>
        </div>
        <div *ngIf="project.project_type === 'extension'" class="project-progress-bar">
          <div class="progress-title">
            <h4>Presupuesto</h4>
          </div>
          <progress
            [value]="calculateProgressProject(project.id)"
            max="100"
          ></progress>
          <div class="progress-text">
            {{ covertToMoney(project.current_budget, "COP") }} /
            {{ covertToMoney(project.expected_budget, "COP") }}
          </div>
        </div>
        <div class="btns">
          <button
            (click)="showMoreProjectInfo(project.id)"
            class="btn-show-more"
          >
            Ver mas
          </button>
          <button class="btn-donate">Donar</button>
        </div>
      </div>
    </div>
  </div>
</div>
